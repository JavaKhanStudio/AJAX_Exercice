<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width='device-width', initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="utils.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>

<div id="exercise-links">
    <a href="index.html" class="exercise-link">Retour Vers Index</a>
</div>


<h1>Exercice 1</h1>
<p>Cette page tente de faire des appel vers différents fichier PHP :
<ul>
    <li>http://127.0.0.1/Exo1_1_MyGET</li>
    <li>http://127.0.0.1/Exo1_2_MyPOST</li>
    <li>http://127.0.0.1/Exo1_3_MyIF</li>
</ul>
<br>
<br><br>
Les valeur retournées doivent être en JSON avec une valeur "message"
</p>
<h3 id="errorTitle" style="display: none; color:red">Il semble y avoir un problème</h3>
<div id="errorSpace"></div>
<br>
<h3>1.1 - Faire GET</h3>
<button id="ajaxButton1_1">Button Exo1_1</button><br><br>
<div id="espace1_1"></div>

<h3>1.2 - Faire POST</h3>
<button id="ajaxButton1_2">Button Exo1_2</button><br><br>
<div id="espace1_2"></div>

<h3>1.3 - Faire GET et POST sur un meme path</h3>
<button id="ajaxButton1_3_GET">Button Exo1_3 GET</button>
<button id="ajaxButton1_3_POST">Button Exo1_3 POST</button><br><br>
<div id="espace1_3"></div>

<!-- EXO 1_1  -->
<script>
    $(document).ready(function () {
        $('#ajaxButton1_1').click(function () {
            $.ajax({
                url: 'http://127.0.0.1/Exo1_1_MyGET',
                type: 'GET',
                dataType: 'json',
                success: function (data) {
                    var message = data.message;
                    $('#espace1_1').html(
                        "J'ai valeur 1 :<br>" + message.valeur1 +
                        "<br><br>"
                        + "Et valeur deux :<br>" + message.valeur2);
                },
                error: function (xhr, status, error) {
                    showError(xhr);
                }
            });
        });
    });
</script>

<!-- EXO 1_2  -->
<script>
    $(document).ready(function () {
        $('#ajaxButton1_2').click(function () {
            $.ajax({
                url: 'http://127.0.0.1/Exo1_2_MyPOST.php',
                type: 'POST',
                dataType: 'json',
                success: function (data) {
                    var message = data.message;
                    $('#espace1_2').html(
                        "Ma requete etait un :<br>" + message.lePost);
                },
                error: function (xhr, status, error) {
                    showError(xhr);
                }
            });
        });
    });
</script>

<!-- EXO 1_3  -->
<script>
    $(document).ready(function () {
        $('#ajaxButton1_3_GET').click(function () {
            $.ajax({
                url: 'http://127.0.0.1/Exo1_3_MyIF.php',
                type: 'GET',
                dataType: 'json',
                success: function (data) {
                    var message = data.message;
                    $('#espace1_3').html(
                        "Ma requete etait un " + message);
                },
                error: function (xhr, status, error) {
                    showError(xhr);
                }
            });
        });

        $('#ajaxButton1_3_POST').click(function () {
            $.ajax({
                url: 'http://127.0.0.1/Exo1_3_MyIF.php',
                type: 'POST',
                dataType: 'json',
                success: function (data) {
                    var message = data.message;
                    $('#espace1_3').html(
                        "Ma requete etait un " + message);
                },
                error: function (xhr, status, error) {
                    showError(xhr);
                }
            });
        });
    });
</script>

</body>

</html>